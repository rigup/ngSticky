!function(){"use strict";var t=angular.module("sticky",[]);t.directive("sticky",function(){function t(t,e,o){function s(){if(v.offsetWidth=u.offsetWidth,c(),i(),C){var t=window.getComputedStyle(u.parentElement,null),o=u.parentElement.offsetWidth-t.getPropertyValue("padding-right").replace("px","")-t.getPropertyValue("padding-left").replace("px","");e.css("width",o+"px")}}function n(){h.off("scroll",i),h.off("resize",s),m&&g.removeClass(m),$&&$.remove()}function i(){var t,e,o,s;if(!p||L("("+p+")").matches||L(p).matches)if("top"===W?(s=window.pageYOffset||w.scrollTop,t=s-(w.clientTop||0),e=H===!0?t>=x&&T>=t:t>=x):(o=window.pageYOffset+window.innerHeight,e=x>=o),e&&!C)a();else if(!e&&C){var n,i,f;i=[x,T],f=r(i,t),f==x?n="top":f==T&&(n="bottom"),c(n,t)}}function r(t,e){var o,s=0,n=1e3;for(s in t){var i=Math.abs(e-t[s]);n>i&&(n=i,o=t[s])}return o}function a(){var t,o;if(t=e[0].getBoundingClientRect(),o=t.left,v.offsetWidth=u.offsetWidth,C=!0,m&&g.addClass(m),d&&e.addClass(d),e.css("width",u.offsetWidth+"px").css("position","fixed").css(W,k+"px").css("left",o).css("margin-top",0),"bottom"===W&&e.css("margin-bottom",0),P){console.log("use placeholder!"),$=angular.element("<div>");var s=e[0].offsetHeight;$.css("height",s+"px"),e.after($)}}function c(t){e.attr("style",e.initialStyle),C=!1,m&&g.removeClass(m),d&&e.removeClass(d),"top"==t?e.css("width","").css("top",v.top).css("position",v.position).css("left",v.cssLeft).css("margin-top",v.marginTop):"bottom"==t&&H===!0&&e.css("width","").css("top","").css("bottom",0).css("position","absolute").css("left",v.cssLeft).css("margin-top",v.marginTop).css("margin-bottom",v.marginBottom),$&&$.remove()}function f(t){var e=0;if(t.offsetParent)do e+=t.offsetTop,t=t.offsetParent;while(t);return e}function l(t){return t.offsetTop+t.clientHeight}var p,d,m,u,h,g,w,v,y,b,C,x,T,k,W,H,M,L,P,$;switch(b=!1,C=!1,L=window.matchMedia,h=angular.element(window),g=angular.element(document.body),u=e[0],w=document.documentElement,p=o.mediaQuery||!1,d=o.stickyClass||"",m=o.bodyClass||"",P=void 0==o.useplaceholder?!1:!0,y=e.attr("style"),k="string"==typeof o.offset?parseInt(o.offset.replace(/px;?/,"")):0,W="string"==typeof o.anchor?o.anchor.toLowerCase().trim():"top",H="string"==typeof o.confine?o.confine.toLowerCase().trim():"false",H="true"===H,v={top:e.css("top"),width:e.css("width"),position:e.css("position"),marginTop:e.css("margin-top"),cssLeft:e.css("left")},W){case"top":case"bottom":break;default:console.log("Unknown anchor "+W+", defaulting to top"),W="top"}h.on("scroll",i),h.on("resize",t.$apply.bind(t,s)),t.$on("$destroy",n),M=f(u),t.$watch(function(){return C?M:M="top"===W?f(u):l(u)},function(t,o){if((t!==o||"undefined"==typeof x)&&0!=t){x=t-k,H&&e.parent().css({position:"relative"});var s=e.parent()[0];console.log(s.offsetHeight);var n=parseInt(s.offsetHeight),r=parseInt(e.css("margin-bottom").replace(/px;?/,""))||0;T=n-(u.offsetTop+u.offsetHeight)+k+r,i()}})}return{restrict:"A",link:t}}),window.matchMedia=window.matchMedia||function(){var t="angular-sticky: This browser does not support matchMedia, therefore the minWidth option will not work on this browser. Polyfill matchMedia to fix this issue.";return window.console&&console.warn&&console.warn(t),function(){return{matches:!0}}}()}();